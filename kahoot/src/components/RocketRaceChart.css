/* Rocket Race Chart - Space Theme Animations */

/* Stars background - 3 layers for depth effect */
.stars,
.stars2,
.stars3 {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.stars {
  background: transparent;
  box-shadow:
    1240px 600px #fff, 780px 920px #fff, 1520px 1440px #fff,
    320px 280px #fff, 1840px 1080px #fff, 680px 1600px #fff,
    1160px 200px #fff, 440px 1400px #fff, 1960px 760px #fff,
    200px 1120px #fff, 1400px 360px #fff, 920px 1880px #fff,
    560px 640px #fff, 1680px 1200px #fff, 1000px 80px #fff,
    1800px 520px #fff, 360px 1760px #fff, 1280px 1520px #fff,
    640px 400px #fff, 1920px 1640px #fff;
  animation: twinkle-stars 100s linear infinite;
}

.stars::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 2px;
  height: 2px;
  background: transparent;
  box-shadow:
    1240px 600px #fff, 780px 920px #fff, 1520px 1440px #fff,
    320px 280px #fff, 1840px 1080px #fff, 680px 1600px #fff,
    1160px 200px #fff, 440px 1400px #fff, 1960px 760px #fff,
    200px 1120px #fff, 1400px 360px #fff, 920px 1880px #fff,
    560px 640px #fff, 1680px 1200px #fff, 1000px 80px #fff,
    1800px 520px #fff, 360px 1760px #fff, 1280px 1520px #fff,
    640px 400px #fff, 1920px 1640px #fff;
}

.stars2 {
  background: transparent;
  box-shadow:
    620px 300px #fff, 390px 460px #fff, 760px 720px #fff,
    160px 140px #fff, 920px 540px #fff, 340px 800px #fff,
    580px 100px #fff, 220px 700px #fff, 980px 380px #fff,
    100px 560px #fff, 700px 180px #fff, 460px 940px #fff,
    280px 320px #fff, 840px 600px #fff, 500px 40px #fff,
    900px 260px #fff, 180px 880px #fff, 640px 760px #fff,
    320px 200px #fff, 960px 820px #fff;
  animation: twinkle-stars 150s linear infinite;
}

.stars2::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 1px;
  height: 1px;
  background: transparent;
  box-shadow:
    620px 300px #fff, 390px 460px #fff, 760px 720px #fff,
    160px 140px #fff, 920px 540px #fff, 340px 800px #fff,
    580px 100px #fff, 220px 700px #fff, 980px 380px #fff,
    100px 560px #fff, 700px 180px #fff, 460px 940px #fff,
    280px 320px #fff, 840px 600px #fff, 500px 40px #fff,
    900px 260px #fff, 180px 880px #fff, 640px 760px #fff,
    320px 200px #fff, 960px 820px #fff;
}

.stars3 {
  background: transparent;
  box-shadow:
    1860px 900px #fff, 1170px 1380px #fff, 2280px 2160px #fff,
    480px 420px #fff, 2760px 1620px #fff, 1020px 2400px #fff,
    1740px 300px #fff, 660px 2100px #fff, 2940px 1140px #fff,
    300px 1680px #fff, 2100px 540px #fff, 1380px 2820px #fff,
    840px 960px #fff, 2520px 1800px #fff, 1500px 120px #fff,
    2700px 780px #fff, 540px 2640px #fff, 1920px 2280px #fff,
    960px 600px #fff, 2880px 2460px #fff;
  animation: twinkle-stars 200s linear infinite;
}

.stars3::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 3px;
  height: 3px;
  background: transparent;
  box-shadow:
    1860px 900px #fff, 1170px 1380px #fff, 2280px 2160px #fff,
    480px 420px #fff, 2760px 1620px #fff, 1020px 2400px #fff,
    1740px 300px #fff, 660px 2100px #fff, 2940px 1140px #fff,
    300px 1680px #fff, 2100px 540px #fff, 1380px 2820px #fff,
    840px 960px #fff, 2520px 1800px #fff, 1500px 120px #fff,
    2700px 780px #fff, 540px 2640px #fff, 1920px 2280px #fff,
    960px 600px #fff, 2880px 2460px #fff;
}

@keyframes twinkle-stars {
  0%, 100% {
    opacity: 0.3;
  }
  50% {
    opacity: 1;
  }
}

/* Rocket animations */
.rocket {
  cursor: default;
  -webkit-user-select: none;
  user-select: none;
  position: relative;
  z-index: 10;
}

.rocket-leader {
  animation: rocket-pulse 1s ease-in-out infinite;
}

@keyframes rocket-pulse {
  0%, 100% {
    transform: translateY(-50%) scale(1);
  }
  50% {
    transform: translateY(-50%) scale(1.1);
  }
}

/* Particle trail */
.rocket-trail {
  position: absolute;
  right: 100%;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  gap: 8px;
  pointer-events: none;
}

/* Rocket exhaust flame animation */
.rocket-exhaust {
  animation: exhaust-flicker 0.15s ease-in-out infinite alternate;
}

@keyframes exhaust-flicker {
  0% {
    transform: scaleY(0.95) scaleX(1.05);
    opacity: 0.9;
  }
  50% {
    transform: scaleY(1.05) scaleX(0.95);
    opacity: 1;
  }
  100% {
    transform: scaleY(0.98) scaleX(1.02);
    opacity: 0.95;
  }
}

/* Floating score animation */
@keyframes floatUp {
  0% {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translateX(-50%) translateY(-60px);
  }
}

.particle {
  display: inline-block;
  animation: particle-float 1.5s ease-in-out infinite;
  opacity: 0;
  font-size: 0.8rem;
}

.particle:nth-child(1) {
  animation-delay: 0s;
}

.particle:nth-child(2) {
  animation-delay: 0.3s;
}

.particle:nth-child(3) {
  animation-delay: 0.6s;
}

@keyframes particle-float {
  0% {
    opacity: 0;
    transform: translateX(0) scale(1);
  }
  30% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translateX(-30px) scale(0.3);
  }
}

/* Winner flames */
.winner-flames {
  position: absolute;
  right: 100%;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  gap: 4px;
  margin-right: 5px;
  pointer-events: none;
}

.flame {
  display: inline-block;
  animation: flame-flicker 0.5s ease-in-out infinite;
  font-size: 1.2rem;
}

.flame:nth-child(1) {
  animation-delay: 0s;
}

.flame:nth-child(2) {
  animation-delay: 0.25s;
}

@keyframes flame-flicker {
  0%, 100% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
  25% {
    opacity: 0.8;
    transform: scale(1.1) rotate(-5deg);
  }
  50% {
    opacity: 0.9;
    transform: scale(0.9) rotate(5deg);
  }
  75% {
    opacity: 0.85;
    transform: scale(1.05) rotate(-3deg);
  }
}

/* Race track hover effect */
.race-track:hover {
  transform: scale(1.02);
  transition: transform 0.2s ease;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .rocket {
    font-size: 1.5rem !important;
  }

  .rocket-leader {
    font-size: 1.8rem !important;
  }

  .particle {
    font-size: 0.6rem;
  }

  .flame {
    font-size: 0.9rem;
  }
}

/* Container animation on mount */
.rocket-race-container {
  animation: fade-in 0.5s ease-in-out;
}

@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
